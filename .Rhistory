options(stringsAsFactors = F)
# packages
require(tidyverse) # data cleaning and manipulation
require(magrittr)  # syntax
require(foreign)   # read .dta files
select = dplyr::select
setwd('C:/Users/prorgan/Box/Classes/BE 887/Exercise')
###############################################################################
# read in data
df <- read.dta('data1980s_share.dta')
reg <- read.dta('data_regulation_share.dta')
save.dta
?save.dta
View(df)
View(reg)
###############################################################################
# merge
comb <- left_join(df, reg, by=c('expcode' = 'code'))
View(comb)
###############################################################################
# read in data
df <- read.dta('data1980s_share.dta') %>%
rename(dist = ln_distance,
legal = legalsystem,
lang = common_lang,
religion = religion_same)%>%
mutate(landlock = n_landlock==2 * 1,
island = n_islands==2 * 1)
###############################################################################
# read in data
df <- read.dta('data1980s_share.dta') %>%
rename(dist = ln_distance,
legal = legalsystem_same,
lang = common_lang,
religion = religion_same)%>%
mutate(landlock = n_landlock==2 * 1,
island = n_islands==2 * 1)
###############################################################################
# read in data
df <- read.dta('data1980s_share.dta') %>%
rename(dist = ln_distance,
legal = legalsystem_same,
lang = common_lang,
religion = religion_same)%>%
mutate(landlock = n_landlock==2 * 1,
island = n_islands==2 * 1,
pair = paste0(expcode,'_',impcode))
?sort
# identify country-pairs
df %<>% mutate(pair = sort(expcode, impcode)[1])
# identify country-pairs
countries <- c(df$expcode,df$impcode)
# identify country-pairs
df$expcode <- as.factor
# identify country-pairs
df$expcode <- as.factor()
# identify country-pairs
df$expcode %<>% as.factor()
max(df$expcode)
?as.factor
df <- read.dta('data1980s_share.dta') %>%
rename(dist = ln_distance,
legal = legalsystem_same,
lang = common_lang,
religion = religion_same)%>%
mutate(landlock = n_landlock==2 * 1,
island = n_islands==2 * 1)
df <- read.dta('data1980s_share.dta') %>%
rename(dist = ln_distance,
legal = legalsystem_same,
lang = common_lang,
religion = religion_same)%>%
mutate(landlock = n_landlock==2 * 1,
island = n_islands==2 * 1)
# identify country-pairs
df$expcode %<>% as.factor(ordered=F)
# identify country-pairs
df$expcode <- as.factor(df$expcode, ordered=F)
# identify country-pairs
df$expcode <- as.factor(df$expcode, levels = sort(unique(df$expcode)))
# identify country-pairs
df$expcode <- factor(df$expcode, levels = sort(unique(df$expcode)))
df <- read.dta('data1980s_share.dta') %>%
rename(dist = ln_distance,
legal = legalsystem_same,
lang = common_lang,
religion = religion_same)%>%
mutate(landlock = n_landlock==2 * 1,
island = n_islands==2 * 1)
table(df$expcode)
# identify country-pairs
df$expcode <- factor(df$expcode, levels = sort(unique(df$expcode)))
# identify country-pairs
df$expcode <- factor(df$expcode, levels = sort(unique(df$expcode)))
df$expcode[1]
df <- read.dta('data1980s_share.dta') %>%
rename(dist = ln_distance,
legal = legalsystem_same,
lang = common_lang,
religion = religion_same)%>%
mutate(landlock = n_landlock==2 * 1,
island = n_islands==2 * 1)
